---

# AWS
aws_region: eu-west-2

# VPC
vpc_name: "{{ project_name }}-VPC"
vpc_cidr: 172.31.0.0/23
vpc_tenancy: default

# Subnet
subnets:
  BYOCM-subnet-A:
    AZ: "{{ aws_region}}a"
    subnet_cidr: 172.31.0.0/24
  BYOCM-subnet-B:
    AZ: "{{ aws_region }}b"
    subnet_cidr: 172.31.1.0/24

# IGW
igw_name: "{{ project_name }}-IGW"

# Routingtable
routingtable_name: "{{ project_name }}-RT"

# For flexibility I've used a dict to describe what my instances should look like in AWS
instances:
  BYOCM:
    count: 1
    instance_type: t2.micro
    public_ip: True
    subnet_id: "{{ subnet_id | first }}"
    security_groups:
      rules:
        - { proto: tcp, from_port: 80, to_port: 80, cidr_ip: 0.0.0.0/0 }
        - { proto: tcp, from_port: 443, to_port: 443, cidr_ip: 0.0.0.0/0 }
        - { proto: tcp, from_port: 22, to_port: 22, cidr_ip: 35.177.169.103/32 }
        - { proto: tcp, from_port: 22, to_port: 22, cidr_ip: 172.31.0.150/32 }

rds_instances:
  BYOCM:
    engine: mariadb
    version: 10.2.11
    size: 10
    instance_type: db.t2.micro
    username: root
    password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35613539623432653038363736623561366464666130306362323735393962653137613137613032
          3832393131666465373831366635363933653335656230380a363238373766346263316139396366
          62636130623538343637626337306336326533323861383834353136373566633438323361623633
          3162616136363839340a303833393834386137623638326132633931616331633838336461353632
          33343230373562356638643865636165656564343434386361386238363433653564

# placeholder
project_name: BYOCM
env: dev
